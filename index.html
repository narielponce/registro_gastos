<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Registro de Gastos</title>
<style>
  body { font-family: Arial; margin: 40px; }
  input, button { margin: 5px 0; padding: 6px; width: 250px; }
</style>
</head>
<body>
  <h2>Registrar gasto</h2>
  <form id="gastoForm">
    <label>Fecha:</label><br>
    <input type="date" name="fecha" required><br>
    <label>Categoría:</label><br>
    <input type="text" name="categoria" required><br>
    <label>Monto:</label><br>
    <input type="number" name="monto" required><br><br>
    <button type="submit">Guardar gasto</button>
  </form>

  <p id="msg"></p>

<script>
// URL del webhook de n8n (reemplazala por la tuya)
const WEBHOOK_URL = "https://TU_INSTANCIA_N8N/webhook/registro_gastos";

document.getElementById("gastoForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const data = Object.fromEntries(new FormData(e.target).entries());
  
  const res = await fetch(WEBHOOK_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });
  
  if (res.ok) {
    document.getElementById("msg").innerText = "✅ Gasto registrado correctamente";
    e.target.reset();
  } else {
    document.getElementById("msg").innerText = "❌ Error al enviar el gasto";
  }
});
</script>
</body>
</html>
